{% extends 'base/contact_list_base.html' %}

{% block title %}Contacts calendar{% endblock %}

{% block body_content %}
    <div class="flex flex-col">
        <div class="flex justify-center flex-row flex-wrap p-2">
            {% for contact in all_contacts %}
                <div class="flex flex-col sm:w-full md:w-4/5 lg:w-1/3 m-2 p-3 rounded-lg border-solid border border-gray-600 bg-white">
                    <div class="flex justify-between border-b m-2 pb-2">
                        <div class="">
                            <button class="font-mono bg-purple-300 border border-purple-300 hover:border-transparent hover:bg-purple-500 rounded p-2">
                                Favorite
                            </button>
                        </div>
                        <div class="">
                            <button class="font-mono bg-yellow-300 border border-yellow-300 hover:border-transparent hover:bg-yellow-500 rounded p-2">
                                File
                            </button>
                        </div>
                    </div>
                    <div class="flex flex-wrap sm:flex-col md:flex-row m-2 p-3">
                        <div class="sm:w-full md:w-1/2 my-2 p-2">
                            <label class="block text-lg font-serif" for="">
                                First name
                            </label>
                            <p class="font-light italic">
                                {{ contact.first_name }}
                            </p>
                        </div>
                        <div class="sm:w-full md:w-1/2 my-2 p-2">
                            <label class="block text-lg font-serif" for="">
                                Last name
                            </label>
                            <p class="font-light italic">
                                {{ contact.last_name }}
                            </p>
                        </div>
                        <div class="sm:w-full md:w-full my-2 p-2">
                            <label class="block text-lg font-serif" for="">
                                Email
                            </label>
                            <p class="font-light italic">
                                {{ contact.contact_email }}
                            </p>
                        </div>
                        <div class="sm:w-full md:w-1/2 my-2 p-2">
                            <label class="block text-lg font-serif" for="">
                                Phone number
                            </label>
                            <p class="font-light italic">
                                {{ contact.phone_number }}
                            </p>
                        </div>
                        <div class="sm:w-full md:w-1/2 my-2 p-2">
                            <label class="block text-lg font-serif" for="">
                                Birth date
                            </label>
                            <p class="font-light italic">
                                {{ contact.date_of_birth }}
                            </p>
                        </div>
                    </div>
                    <div class="flex justify-between border-t m-2 pt-2">
                        <div>
                            <a class="block font-mono bg-red-300 border-red-300 hover:border-transparent hover:bg-red-500 rounded p-2" href="{% url 'contacts:delete' request.user.username contact.id %}">
                                Delete
                            </a>
                        </div>
                        <div class="">
                            <a class="block font-mono bg-teal-300 border-teal-300 hover:border-transparent hover:bg-teal-500 rounded p-2" href="{% url 'contact_list:update' %}">
                                Update
                            </a>
                        </div>
                    </div>
                </div>
            {% empty %}
                <div class="">
                    <p>
                        Not found contacts...
                    </p>
                </div>
            {% endfor %}
        </div>

        <div class="flex justify-between m-4 p-3">
            {% if page_obj.has_previous %}
                <div class="">
                    <a class="bg-blue-300 hover:bg-blue-500 rounded m-3 px-4 py-2" href="?page=1">
                        First
                    </a>
                    <a class="bg-blue-300 hover:bg-blue-500 rounded m-3 px-4 py-2" href="?page={{ page_obj.previous_page_number }}">
                        Previus
                    </a>
                </div>
            {% else %}
                <div class="">
                    <a class="bg-blue-300 hover:bg-blue-500 rounded m-3 cursor-not-allowed px-4 py-2"s>
                        Previus
                    </a>
                </div>
            {% endif %}

            <div>
                <span>
                    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
                </span>
            </div>

            {% if page_obj.has_next %}
                <div class="">
                    <a class="bg-blue-300 hover:bg-blue-500 rounded m-3 px-4 py-2" href="?page={{ page_obj.next_page_number }}">
                        Next
                    </a> 
                </div>
            {% else %}
                <div class="">
                    <a class="bg-blue-300 hover:bg-blue-500 rounded m-3 cursor-not-allowed px-4 py-2"s>
                        Next
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock body_content %}
